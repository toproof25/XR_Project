# 24.05.26 기능 개발 작업 내용 변경 사항

### 1. Furniture폴더 – SetSpawnPrefab 컴포넌트 구조 변경
### 2. 오브젝트 UI 변경 (기능은 그대로)
### 3. 컨트롤러 매핑 변경
### 4. PalmMenu 추가 (핸드트래킹 전용 UI)

<br/>
<br/>


----

## 1. Furniture폴더 – SetSpawnPrefab 컴포넌트 구조 변경
- 기본적으로 실행할 때 SetSpawnPrefab에 있는 리스트를 이용하여 UI에 각 오브젝트들이 토글 UI로 하나씩 생성됨
- 이후 토글 UI 선택하면 배치모드로 변경되어 벽에 오브젝트를 배치할 수 있음
<img src="https://github.com/toproof25/XR_Project/assets/41888060/f0440b28-8821-4071-b012-51ea88da6064" width="500">
<img src="https://github.com/toproof25/XR_Project/assets/41888060/298b3bce-f3c7-44a6-9366-ca81c8900e8a" width="500">
<img src="https://github.com/toproof25/XR_Project/assets/41888060/20e49c48-5c80-4f68-8f5f-3eee635eaba9" width="500">

- 실행하면 UI에 토글 버튼에 각 오브젝트가 연결되어 클릭하면 바뀌도록

### 변경 이유
오브젝트를 큰 오브젝트(소파, 의자), 작은 오브젝트(램프, 장난감), 기타 오브젝트(음식, 비일상 오브젝트 등)로 나누어서 페이지별로 구분해두기 위함

<br/>
<br/>

----

## 2. 오브젝트 UI 변경 (기능은 그대로)
- 기존 UI는 삭제하고 UI를 해당 모습으로 변경
- 상단 3개 버튼 기능은 기존의 Lock, 삭제, UI 끄기 기능은 유지
- 기존에는 Ray를 이용하여 선택밖에 안 되었으나 현재는 Ray와 Poke 모두 상호작용이 가능하며, 핸드트래킹에서도 작동하는 것을 확인
<img src="https://github.com/toproof25/XR_Project/assets/41888060/660e98dc-ff61-483e-afea-ffb9058c9d25" width="500">

### 변경 이유
더 깔끔하고 개선된 경험이 가능함 (핸드트래킹은 물론 샘플 UI라 정리가 잘 되어있음). 그리고 현재는 box 프리팹에만 적용되어 있음. 나머지는 Ray가 안됨

<br/>
<br/>

----

## 3. 컨트롤러 매핑 변경
- 기존에는 맨 위 빌딩 블록으로 Controller Buttons Mapper을 사용하여 연결하였다.
- 변경한 부분은 아래에 Controller Buttons Mapper을 만들어서 커스텀으로 버튼 매핑하도록 변경
<img src="https://github.com/toproof25/XR_Project/assets/41888060/85bdcfec-0673-43a8-ac9d-b3b68cfdc378" width="500">
<img src="https://github.com/toproof25/XR_Project/assets/41888060/79c04bd2-180f-41db-952d-d1ab5dbf39d2" width="500">

### 변경 이유
빌딩 블록 버튼 매핑을 이용하면 컨트롤러와 핸드트래킹에서 모두 같은 버튼으로 인식되는 경우가 발생. 고로 더 정밀한 핸드트래킹 버튼 매핑을 위해 컨트롤러와 핸드트래킹 버튼 매핑을 다르게 설정하도록 컴포넌트로 커스텀해서 사용

<br/>
<br/>


----

## 4. PalmMenu 추가 (핸드트래킹 전용 UI)
- 컨트롤러는 버튼을 눌러 UI를 스폰하거나 조절하는데 핸드트래킹에서는 제한이 됨
- SDK에서 샘플로 제공하는 핸드트래킹 UI를 사용하기 위해 적용
- 기본적으로 엄지, 검지로 메뉴를 활성화하고, 손바닥에 UI가 나타나서 스마트폰을 다루듯이 UI를 선택할 수 있음
<img src="https://github.com/toproof25/XR_Project/assets/41888060/9f2410d8-0f42-4e47-b0a8-73376d38addd" width="500">
